(()=>{var e=document.getElementById("checkAll");e&&(e.onclick=function(){for(var e=document.querySelectorAll('.form-check-all input[type="checkbox"]'),t=0;t<e.length;t++)e[t].checked=this.checked,e[t].checked?e[t].closest("tr").classList.add("table-active"):e[t].closest("tr").classList.remove("table-active")});var t={valueNames:["id","name","company_name","date","leads_score","phone","location"],page:8,pagination:!0,plugins:[ListPagination({left:2,right:2})]},n=new List("leadsList",t).on("updated",(function(e){0==e.matchingItems.length?document.getElementsByClassName("noresult")[0].style.display="block":document.getElementsByClassName("noresult")[0].style.display="none";var t=1==e.i,n=e.i>e.matchingItems.length-e.page;document.querySelector(".pagination-prev.disabled")&&document.querySelector(".pagination-prev.disabled").classList.remove("disabled"),document.querySelector(".pagination-next.disabled")&&document.querySelector(".pagination-next.disabled").classList.remove("disabled"),t&&document.querySelector(".pagination-prev").classList.add("disabled"),n&&document.querySelector(".pagination-next").classList.add("disabled"),e.matchingItems.length<=8?document.querySelector(".pagination-wrap").style.display="none":document.querySelector(".pagination-wrap").style.display="flex",e.matchingItems.length>0?document.getElementsByClassName("noresult")[0].style.display="none":document.getElementsByClassName("noresult")[0].style.display="block"}));isCount=(new DOMParser).parseFromString(n.items.slice(-1)[0]._values.id,"text/html");var l=isCount.body.firstElementChild.innerHTML,a=document.getElementById("id-field"),d=document.getElementById("customername-field"),i=document.getElementById("company_name-field"),o=document.getElementById("date-field"),c=document.getElementById("leads_score-field"),s=document.getElementById("phone-field"),r=document.getElementById("location-field"),m=document.getElementById("add-btn"),u=document.getElementById("edit-btn"),y=document.getElementsByClassName("remove-item-btn"),g=document.getElementsByClassName("edit-item-btn");f(),document.getElementById("showModal").addEventListener("show.bs.modal",(function(e){e.relatedTarget.classList.contains("edit-item-btn")?(document.getElementById("exampleModalLabel").innerHTML="Edit Lead",document.getElementById("showModal").querySelector(".modal-footer").style.display="block",document.getElementById("add-btn").style.display="none",document.getElementById("edit-btn").style.display="block"):e.relatedTarget.classList.contains("add-btn")?(document.getElementById("exampleModalLabel").innerHTML="Add Lead",document.getElementById("showModal").querySelector(".modal-footer").style.display="block",document.getElementById("edit-btn").style.display="none",document.getElementById("add-btn").style.display="block"):(document.getElementById("exampleModalLabel").innerHTML="List Lead",document.getElementById("showModal").querySelector(".modal-footer").style.display="none")})),E(),document.getElementById("showModal").addEventListener("hidden.bs.modal",(function(){h()})),document.querySelector("#leadsList").addEventListener("click",(function(){f(),E()}));var v=document.getElementById("customerTable"),p=(v.getElementsByTagName("tr"),v.querySelectorAll(".list tr"),Number(l.replace(/[^0-9]/g,""))+1);function E(){document.getElementsByName("checkAll").forEach((function(e){e.addEventListener("click",(function(e){e.target.checked?e.target.closest("tr").classList.add("table-active"):e.target.closest("tr").classList.remove("table-active")}))}))}function f(){y.forEach((function(e){e.addEventListener("click",(function(e){e.target.closest("tr").children[1].innerText,itemId=e.target.closest("tr").children[1].innerText,n.get({id:itemId}).forEach((function(e){deleteid=(new DOMParser).parseFromString(e._values.id,"text/html");var t=deleteid.body.firstElementChild;deleteid.body.firstElementChild.innerHTML==itemId&&document.getElementById("delete-record").addEventListener("click",(function(){n.remove("id",t.outerHTML),document.getElementById("deleteRecordModal").click()}))}))}))})),g.forEach((function(e){e.addEventListener("click",(function(e){e.target.closest("tr").children[1].innerText,itemId=e.target.closest("tr").children[1].innerText,n.get({id:itemId}).forEach((function(e){isid=(new DOMParser).parseFromString(e._values.id,"text/html");var t=isid.body.firstElementChild.innerHTML;t==itemId&&(a.value=t,d.value=e._values.name,i.value=e._values.company_name,o.value=e._values.date,c.value=e._values.leads_score,s.value=e._values.phone,r.value=e._values.location,flatpickr("#date-field",{dateFormat:"d M, Y",defaultDate:e._values.date}))}))}))}))}function h(){d.value="",i.value="",o.value="",c.value="",s.value="",r.value=""}m.addEventListener("click",(function(e){""!==d.value&&""!==i.value&&""!==o.value&&""!==c.value&&""!==s.value&&""!==r.value&&(n.add({id:'<a href="javascript:void(0);" class="fw-medium link-primary">#VZ'+p+"</a>",name:d.value,company_name:i.value,date:o.value,leads_score:c.value,phone:s.value,location:r.value}),document.getElementById("close-modal").click(),h(),f(),p++)})),u.addEventListener("click",(function(e){document.getElementById("exampleModalLabel").innerHTML="Edit Contact",n.get({id:a.value}).forEach((function(e){isid=(new DOMParser).parseFromString(e._values.id,"text/html"),isid.body.firstElementChild.innerHTML==itemId&&e.values({id:'<a href="javascript:void(0);" class="fw-medium link-primary">'+a.value+"</a>",name:d.value,company_name:i.value,date:o.value,leads_score:c.value,phone:s.value,location:r.value})})),document.getElementById("close-modal").click(),h()})),document.querySelector(".pagination-next").addEventListener("click",(function(){document.querySelector(".pagination.listjs-pagination")&&(document.querySelector(".pagination.listjs-pagination").querySelector(".active")&&document.querySelector(".pagination.listjs-pagination").querySelector(".active").nextElementSibling.children[0].click())})),document.querySelector(".pagination-prev").addEventListener("click",(function(){document.querySelector(".pagination.listjs-pagination")&&(document.querySelector(".pagination.listjs-pagination").querySelector(".active")&&document.querySelector(".pagination.listjs-pagination").querySelector(".active").previousSibling.children[0].click())}))})();